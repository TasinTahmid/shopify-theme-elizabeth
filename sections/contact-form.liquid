<div class="contact-form-container">
  {% if section.settings.title %}
    <h1 class="form-heading">{{ section.settings.title }}</h1>
  {% endif %}
  {% form 'contact' %}
    {% if form.errors %}
      <div class="border p-5">
        <div class="flex flex-row items-center w-full my-3">
          <div class="text-red-500">
            {% render 'failed-icon' %}
          </div>
          <div class="text-sm font-medium ml-3">Oh no! Your message is not sent</div>
        </div>
        <ul class="px-4 mb-3 ml-7 list-decimal">
          {% for error in form.errors %}
            <li>
              <span>{{ form.errors.messages[error] }}</span>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% elsif form.posted_successfully? %}
      <div class="flex flex-row items-center w-full my-3 p-5">
        <div class="text-green-500">
          {% render 'success-icon' %}
        </div>
        <div class="text-sm font-medium ml-3">Your message is sent successfully</div>
      </div>
    {% endif %}

    <div class="field-container">
      <div class="first-row">
        <div class="name-field">
          <label for="contact_name">Name</label>
          <input class="input-field" type="text" name="contact[name]" id="contact_name">
        </div>
        <div class="email-field">
          <label for="contact_email">Email address</label>
          <input
            class="input-field"
            type="email"
            name="contact[email]"
            id="contact_email"
          >
        </div>
      </div>
      <div class="message-field">
        <label for="contact_message">Message</label>
        <textarea
          class="message-textarea"
          name="contact[body]"
          id="contact_message"
        ></textarea>
      </div>

      <div class="submit-button-wrapper">
        <div class="submit-button">
          <input
            class="submit-input"
            type="submit"
            value="Submit message"
          >
        </div>
      </div>
    </div>
  {% endform %}
</div>

{% schema %}
{
  "name": "Contact Form",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    }
  ],
  "presets": [
    {
      "name": "Contact Form"
    }
  ]
}
{% endschema %}
